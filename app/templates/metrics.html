{% extends "base.html" %}
{% block content %}
<div class="card">
  <div class="page-head">
    <div>
      <h2 class="page-title">System Metrics</h2>
      <p class="page-sub">Performance and processing stats.</p>
    </div>
    <div class="page-badge">Realtime</div>
  </div>

  <div class="section">
    <ul>
      <li>FPS: <span id="mFps">{{ fps }}</span></li>
      <li>Total Frames: <span id="mFrames">{{ frames }}</span></li>
      <li>Detections: <span id="mDetections">{{ detections }}</span></li>
    </ul>
  </div>
</div>

<script>
  async function refreshMetrics() {
    try {
      const r = await fetch("/metrics/json");
      const d = await r.json();
      document.getElementById("mFps").textContent = d.fps;
      document.getElementById("mFrames").textContent = d.frames;
      document.getElementById("mDetections").textContent = d.detections;
    } catch { }
  }
  refreshMetrics();
  setInterval(refreshMetrics, 2000);
</script>
{% endblock %}